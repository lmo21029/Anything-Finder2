<link rel="import" href="bower_components/iron-input/iron-input.html">
<link rel="import" href="bower_components/iron-list/iron-list.html">
<link rel="import" href="./bower_components/paper-button/paper-button.html">
<link rel="import" href="./bower_components/paper-input/paper-input.html">

<dom-module id="anything-finder">

  <template>
    <style>
      /*add component styles here*/
      :host {
        display: block;
        border: solid 1px red;
        padding: 1rem;
      }

      iron-list {
        border: solid 1px black;
        padding: 1rem;
        margin-top: 1rem;
      }

      paper-button {
        background: lightgrey;
        margin: 15px;
      }
      paper-input{
        display:block;
        width: 50%;
      }
      .form-search{
        display: flex;
      }
    </style>

    <p>Bienvenido al buscador de peliculas</p>

    <div class="form-search">
      <paper-input placeholder="Search..." bind-value="[[topic]]"></paper-input>
      <paper-button on-click="doSearch">Start</paper-button>
    </div>

    <iron-list items="[[list]]" as="element">
      <template>
        <span>[[element.name]] - [[element.age]]</span>
      </template>
    </iron-list>

    <iron-ajax
    auto
    url="https://jsonplaceholder.typicode.com/users"
    handle-as="json"
    on-response="doSearch"
    debounce-duration="300">
    </iron-ajax>
  </template>

  <script>

    // TO DO: replace iron-input && button to paper-input && paper-button

    class AnythingFinder extends Polymer.Element {

      static get is() { return "anything-finder"; }

      static get properties() {
        return {
          /*add your component properties here !!!*/
          topic: {
            type: String,
          },
          list: {
            type: Array,
            value: function () {
              return [
                { name: "FONT", age: "23" },
                { name: "MINALBA", age: "43" }
              ]
            }
          }
        }
      }

      doSearch(topic) {
        //alert('hacer b√∫squeda');
        // const url = `https://www.omdbapi.com/?s=${filmName}&plot=full&apikey=e477ed6a`;
        console.log('hacer busqueda');

      }

    }
    customElements.define(AnythingFinder.is, AnythingFinder);
  </script>

</dom-module>